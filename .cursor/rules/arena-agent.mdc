---
alwaysApply: true
---

# Arena Simulation Engine

## Purpose
Run agent decisions and simulate paper trading.

## Loop per tick
For each arena:
1. Receive snapshot
2. Get registered agents
3. For each agent:
   - Build agent state payload
   - Call AI decision
   - Apply guardrails
   - Execute paper trade
   - Update portfolio
4. Recompute rankings

## Portfolio Structure
cash
tokenUnits
averageEntryPrice
tradeCount
lastTradeTick

## Output
Updated PnL and leaderboard.
